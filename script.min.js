"use strict"; let blocksRuningText = document.querySelectorAll(".running-text"); for (let e of blocksRuningText) endlessLine(e), runText(e, timingDelay(e)), setInterval((function () { restart(e), runText(e, timingDelay(e)) }), 1e3 * timingDelay(e)); function timingDelay(e) { let t = e.firstElementChild, i = document.documentElement.clientWidth; return (t.offsetWidth - i) / 100 } function runText(e, t) { let i = e.firstElementChild, l = document.documentElement.clientWidth, n = i.offsetWidth; i.style.transition = `all ${t}s linear`, i.style.transform = `translate3d(${l - n}px, 0, 0)` } function endlessLine(e) { let t = e.firstElementChild, i = t.cloneNode(!0).children; t.appendChild(i[0]) } function restart(e) { let t = e.firstElementChild; t.style.transition = "all 0s linear", t.style.transform = "translate3d(0, 0, 0)" } function goSlide(e) { let t = e.firstElementChild.clientWidth, i = [...e.children].filter((e => "active" == e.dataset.active))[0], l = [...e.children].indexOf(i); e.style.transform = `translate3d(-${t * l}px, 0, 0)` } function getSlider(e) { let t = document.querySelector(e).firstElementChild; return [...t.children].map((e => e.dataset.active = "")), t.firstElementChild.dataset.active = "active", getNavigationSlider(".navigation-stages").prevButton.setAttribute("disabled", "false"), t } function getNavigationSlider(e) { let t = document.querySelector(e), i = t.querySelector("[data-bullet]"), l = t.querySelector('[data-button="left"]'), n = t.querySelector('[data-button="right"]'); return { wrapper: t, bullet: i, prevButton: l, nextButton: n } } function getNextSlide(e) { let t = [...e.children], i = t.filter((e => "active" == e.dataset.active))[0], l = t[t.indexOf(i) + 1]; t.indexOf(l) == t.length - 1 ? getNavigationSlider(".navigation-stages").nextButton.setAttribute("disabled", "true") : (getNavigationSlider(".navigation-stages").nextButton.removeAttribute("disabled"), getNavigationSlider(".navigation-stages").prevButton.removeAttribute("disabled")), i.dataset.active = "", l.dataset.active = "active" } function getPrevSlide(e) { let t = [...e.children], i = t.filter((e => "active" == e.dataset.active))[0], l = t[t.indexOf(i) - 1]; 0 == t.indexOf(l) ? getNavigationSlider(".navigation-stages").prevButton.setAttribute("disabled", "true") : (getNavigationSlider(".navigation-stages").prevButton.removeAttribute("disabled"), getNavigationSlider(".navigation-stages").nextButton.removeAttribute("disabled")), i.dataset.active = "", l.dataset.active = "active" } function generateBullet(e, t) { let i = e.children.length; for (let e = 0; e < i; e++) { let e = document.createElement("span"); t.bullet.appendChild(e) } getActiveBullet(e, t.bullet) } function getActiveBullet(e, t) { let i = e.children; for (let e = 0; e < i.length; e++)i[e].dataset.active ? t.children[e].classList.add("active") : t.children[e].classList.remove("active") } !function () { let e = getSlider(".slider-stages"), t = getNavigationSlider(".navigation-stages"); generateBullet(e, t), t.nextButton.addEventListener("click", (function () { getNextSlide(e), getActiveBullet(e, t.bullet), goSlide(e) })), t.prevButton.addEventListener("click", (function () { getPrevSlide(e), getActiveBullet(e, t.bullet), goSlide(e) })) }(); class Slider { constructor(e) { this.prevButton = document.querySelector(e.selectorPrevButton), this.nextButton = document.querySelector(e.selectorNextButton), this.slider = document.querySelector(e.selectorSlider), this.bullet = document.querySelector(e.selectorBullet), this.intervalSlides = e.columnGap, this.numberSlides = e.numberSlides, this.wrapperSlider = this.slider.firstElementChild, this.timeAnimation = e.time, this.activeSlide = e.numberSlides, this.mediaQueries = e.media } trak = 0; endSlide; initializationSlider() { this.getActiveSlide(), this.getEndSlide(), this.instalingStyles(), this.showBullet(), this.showNextSlide(), this.showPrevSlide(), this.timeAnimation > 0 && this.autoplay() } instalingStyles() { this.wrapperSlider.style.gap = `${this.getGap()}px`; let e = this.wrapperSlider.children; for (let t of e) t.style.flex = `0 0 calc(${this.getWidthSlide()}% - \n         ${this.getGap() / this.getNumberSlides() * (this.getNumberSlides() - 1)}px)` } getWidthSlide() { return 100 / this.getNumberSlides() } nextSlide() { this.trak -= this.getWidthSlide(), this.activeSlide++, this.showBullet(), this.trak < -this.getWidthSlide() * this.endSlide && (this.trak = 0, this.activeSlide = this.getNumberSlides(), this.showBullet()), this.wrapperSlider.style.transform = `translateX(${this.trak}%)` } showNextSlide() { this.nextButton.addEventListener("click", (() => { this.nextSlide() })) } showPrevSlide() { this.prevButton.addEventListener("click", (() => { this.trak += this.getWidthSlide(), this.activeSlide--, this.showBullet(), this.trak > .1 && (this.trak = -this.getWidthSlide() * this.endSlide, this.activeSlide = this.wrapperSlider.children.length, this.showBullet()), this.wrapperSlider.style.transform = `translateX(${this.trak}%)` })) } autoplay() { setInterval((() => { this.nextSlide() }), 1e3 * this.timeAnimation) } showBullet() { this.bullet.lastElementChild.textContent = this.wrapperSlider.children.length, this.bullet.firstElementChild.textContent = this.activeSlide } getWidthWindow() { return document.documentElement.clientWidth } getMediaQueries() { let e = Object.keys(this.mediaQueries); return e.push(this.getWidthWindow()), e.sort(((e, t) => e - t)), e[e.indexOf(this.getWidthWindow()) - 1] } getGap() { let e = this.mediaQueries[this.getMediaQueries()]; return void 0 !== e.columnGap ? e.columnGap : this.intervalSlides } getNumberSlides() { let e = this.mediaQueries[this.getMediaQueries()]; return void 0 !== e.numberSlides ? e.numberSlides : 1 } getActiveSlide() { let e = this.mediaQueries[this.getMediaQueries()]; e.numberSlides && (this.activeSlide = e.numberSlides) } getEndSlide() { this.endSlide = this.wrapperSlider.children.length - this.getNumberSlides() } } let slider = new Slider({ selectorSlider: ".participants__body", selectorPrevButton: ".navigation__button_left", selectorNextButton: ".navigation__button_right", selectorBullet: ".navigation__bullet", columnGap: 20, numberSlides: 3, media: { 0: { columnGap: 0, numberSlides: 1 }, 500: { columnGap: 10, numberSlides: 2 }, 767: { columnGap: 20, numberSlides: 3 } }, time: 4 }); slider.initializationSlider(); let runningBlocks = document.querySelectorAll("[data-goto]"); for (let e of runningBlocks) moveNewLocation(e); function moveNewLocation(e) { let t = e.dataset.goto.split(", "), i = document.querySelector(t[0]), l = t[1], n = t[2], r = t[3] || "0"; "max" == l && document.documentElement.clientWidth <= n && ("0" != r ? i.children[r - 1].insertAdjacentElement("afterEnd", e) : i.prepend(e)), "min" == l && document.documentElement.clientWidth >= n && ("0" != r ? i.children[r - 1].insertAdjacentElement("afterEnd", e) : i.prepend(e)) }